services:
  - type: web
    name: pk-portfolio-backend
    runtime: docker
    dockerfilePath: ./backend/Dockerfile
    plan: free
    envVars:
      - key: SMTP_HOST
        value: smtp.gmail.com
      - key: SMTP_PORT
        value: "587"
      - key: SMTP_USER
        sync: false          # your Gmail address
      - key: SMTP_PASS
        sync: false          # Gmail App Password (16 chars, NOT your login password)
      - key: RECIPIENT_EMAIL
        value: pranav.kowadkar@gmail.com
      - key: ALLOWED_ORIGINS
        sync: false          # your Vercel domain, e.g. https://www.pkowadkar.com,https://pkowadkar.com
      - key: OPENROUTER_API_KEY
        sync: false          # OpenRouter API key — used for all AI (chat + haiku) via multi-model fallback chain
      - key: GITHUB_PAT
        sync: false          # GitHub Personal Access Token — used to fetch repo/activity context for haikus
      - key: GITHUB_USERNAME
        value: p-kowadkar
      - key: HAIKU_CACHE_TTL
        value: "86400"       # 24 hours — how long to cache generated haikus before regenerating
